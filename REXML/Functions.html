<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">

<title>module REXML::Functions - RDoc Documentation</title>


  <meta
    name="keywords"
    content="ruby,module,REXML::Functions"
  >

    <meta
      name="description"
      content="module REXML::Functions: the first argument will always be a list of nodes from which to filter. In the case of context methods (such as position), the function should return "
    >





<!-- Open Graph / Facebook -->
<meta property="og:type" content="website">
<meta property="og:title" content="module REXML::Functions - RDoc Documentation">



    <meta property="og:description" content="the first argument will always be a list of nodes from which to filter. In the case of context methods (such as position), the function should return ">





<!-- Twitter -->
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="module REXML::Functions - RDoc Documentation">



    <meta name="twitter:description" content="the first argument will always be a list of nodes from which to filter. In the case of context methods (such as position), the function should return ">



<script type="text/javascript">
  var rdoc_rel_prefix = "../";
  var index_rel_prefix = "../";
</script>

<script
  src="../js/theme-toggle.js?v=7.0.1"
></script>

<script
  src="../js/search_navigation.js?v=7.0.1"
  defer
></script>

<script
  src="../js/search_data.js?v=7.0.1"
  defer
></script>

<script
  src="../js/search_ranker.js?v=7.0.1"
  defer
></script>

<script
  src="../js/search_controller.js?v=7.0.1"
  defer
></script>

<script
  src="../js/c_highlighter.js?v=7.0.1"
  defer
></script>

<script
  src="../js/aliki.js?v=7.0.1"
  defer
></script>

<link
  href="../css/rdoc.css?v=7.0.1"
  rel="stylesheet"
>




<body role="document" class="module has-toc">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <!-- Chevron (right arrow) - used for expand/collapse -->
  <symbol
    id="icon-chevron"
    viewBox="0 0 24 24"
    fill="none"
    stroke="currentColor"
    stroke-width="2"
    stroke-linecap="round"
    stroke-linejoin="round"
  >
    <polyline points="9 18 15 12 9 6"></polyline>
  </symbol>

  <!-- File/Document - Pages section -->
  <symbol
    id="icon-file"
    viewBox="0 0 24 24"
    fill="none"
    stroke="currentColor"
    stroke-width="2"
    stroke-linecap="round"
    stroke-linejoin="round"
  >
    <path
      d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"
    ></path>

    <polyline points="14 2 14 8 20 8"></polyline>
  </symbol>

  <!-- Layers/Stack - Classes and Modules section -->
  <symbol
    id="icon-layers"
    viewBox="0 0 24 24"
    fill="none"
    stroke="currentColor"
    stroke-width="2"
    stroke-linecap="round"
    stroke-linejoin="round"
  >
    <polygon points="12 2 2 7 12 12 22 7 12 2"></polygon>
    <polyline points="2 17 12 22 22 17"></polyline>
    <polyline points="2 12 12 17 22 12"></polyline>
  </symbol>

  <!-- Curly braces with C - Class Methods section -->
  <symbol
    id="icon-class-methods"
    viewBox="0 0 24 24"
    fill="none"
    stroke="currentColor"
    stroke-width="2"
    stroke-linecap="round"
    stroke-linejoin="round"
  >
    <path d="M6 3C3.5 3 2 4.5 2 7v3c0 1.5-1 2-1 2s1 .5 1 2v5c0 2.5 1.5 4 4 4"></path>
    <path d="M18 3c2.5 0 4 1.5 4 4v3c0 1.5 1 2 1 2s-1 .5-1 2v5c0 2.5-1.5 4-4 4"></path>

    <text
      x="12"
      y="17"
      text-anchor="middle"
      font-size="13"
      font-weight="bold"
      fill="currentColor"
      stroke="none"
    >
      C
    </text>
  </symbol>

  <!-- Curly braces with I - Instance Methods section -->
  <symbol
    id="icon-instance-methods"
    viewBox="0 0 24 24"
    fill="none"
    stroke="currentColor"
    stroke-width="2"
    stroke-linecap="round"
    stroke-linejoin="round"
  >
    <path d="M6 3C3.5 3 2 4.5 2 7v3c0 1.5-1 2-1 2s1 .5 1 2v5c0 2.5 1.5 4 4 4"></path>
    <path d="M18 3c2.5 0 4 1.5 4 4v3c0 1.5 1 2 1 2s-1 .5-1 2v5c0 2.5-1.5 4-4 4"></path>

    <text
      x="12"
      y="17"
      text-anchor="middle"
      font-size="13"
      font-weight="bold"
      fill="currentColor"
      stroke="none"
    >
      I
    </text>
  </symbol>

  <!-- Double chevrons up - Ancestors section -->
  <symbol
    id="icon-ancestors"
    viewBox="0 0 24 24"
    fill="none"
    stroke="currentColor"
    stroke-width="2"
    stroke-linecap="round"
    stroke-linejoin="round"
  >
    <polyline points="17 11 12 6 7 11"></polyline>
    <polyline points="17 18 12 13 7 18"></polyline>
  </symbol>

  <!-- User with plus - Included Modules section -->
  <symbol
    id="icon-includes"
    viewBox="0 0 24 24"
    fill="none"
    stroke="currentColor"
    stroke-width="2"
    stroke-linecap="round"
    stroke-linejoin="round"
  >
    <path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
    <circle cx="8.5" cy="7" r="4"></circle>

    <line
      x1="20"
      y1="8"
      x2="20"
      y2="14"
    ></line>

    <line
      x1="23"
      y1="11"
      x2="17"
      y2="11"
    ></line>
  </symbol>

  <!-- User with check - Extended Modules section -->
  <symbol
    id="icon-extends"
    viewBox="0 0 24 24"
    fill="none"
    stroke="currentColor"
    stroke-width="2"
    stroke-linecap="round"
    stroke-linejoin="round"
  >
    <path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
    <circle cx="8.5" cy="7" r="4"></circle>
    <polyline points="17 11 19 13 23 9"></polyline>
  </symbol>

  <!-- List - Sections section -->
  <symbol
    id="icon-list"
    viewBox="0 0 24 24"
    fill="none"
    stroke="currentColor"
    stroke-width="2"
    stroke-linecap="round"
    stroke-linejoin="round"
  >
    <line
      x1="8"
      y1="6"
      x2="21"
      y2="6"
    ></line>

    <line
      x1="8"
      y1="12"
      x2="21"
      y2="12"
    ></line>

    <line
      x1="8"
      y1="18"
      x2="21"
      y2="18"
    ></line>

    <line
      x1="3"
      y1="6"
      x2="3.01"
      y2="6"
    ></line>

    <line
      x1="3"
      y1="12"
      x2="3.01"
      y2="12"
    ></line>

    <line
      x1="3"
      y1="18"
      x2="3.01"
      y2="18"
    ></line>
  </symbol>
</svg>

<header class="top-navbar">
  <a href="../index.html" class="navbar-brand">
    RDoc Documentation
  </a>

  <!-- Desktop search bar -->
  <div class="navbar-search navbar-search-desktop" role="search">
    <form action="#" method="get" accept-charset="utf-8">
      <input id="search-field" role="combobox" aria-label="Search"
             aria-autocomplete="list" aria-controls="search-results-desktop"
             type="text" name="search" placeholder="Search (/) for a class, method..."
             spellcheck="false" autocomplete="off"
             title="Type to search, Up and Down to navigate, Enter to load">
      <ul id="search-results-desktop" aria-label="Search Results"
          aria-busy="false" aria-expanded="false"
          aria-atomic="false" class="initially-hidden search-results"></ul>
    </form>
  </div>

  <!-- Mobile search icon button -->
  <button id="search-toggle" class="navbar-search-mobile" aria-label="Open search" type="button">
    <span aria-hidden="true">üîç</span>
  </button>

  <!-- Theme toggle button -->
  <button id="theme-toggle" class="theme-toggle" aria-label="Switch to dark mode" type="button">
    <span class="theme-toggle-icon" aria-hidden="true">üåô</span>
  </button>
</header>

<!-- Search Modal (Mobile) -->
<div id="search-modal" class="search-modal" hidden aria-modal="true" role="dialog" aria-label="Search">
  <div class="search-modal-backdrop"></div>
  <div class="search-modal-content">
    <div class="search-modal-header">
      <form class="search-modal-form" action="#" method="get" accept-charset="utf-8">
        <span class="search-modal-icon" aria-hidden="true">üîç</span>
        <input id="search-field-mobile" role="combobox" aria-label="Search"
               aria-autocomplete="list" aria-controls="search-results-mobile"
               type="text" name="search" placeholder="Search documentation"
               spellcheck="false" autocomplete="off">
        <button type="button" class="search-modal-close" aria-label="Close search" id="search-modal-close">
          <span aria-hidden="true">esc</span>
        </button>
      </form>
    </div>
    <div class="search-modal-body">
      <ul id="search-results-mobile" aria-label="Search Results"
          aria-busy="false" aria-expanded="false"
          aria-atomic="false" class="search-results search-modal-results initially-hidden"></ul>
      <div class="search-modal-empty">
        <p>No recent searches</p>
      </div>
    </div>
  </div>
</div>

<div id="navigation-toggle" role="button" tabindex="0" aria-label="Toggle sidebar" aria-expanded="true" aria-controls="navigation">
  <span aria-hidden="true">&#9776;</span>
</div>


<nav id="navigation" role="navigation">
  




  <div id="fileindex-section" class="nav-section">
    <details class="nav-section-collapsible" >
      <summary class="nav-section-header">
        <span class="nav-section-icon">
          <svg>
            <use href="#icon-file"></use>
          </svg>
        </span>

        <span class="nav-section-title">Pages</span>

        <span class="nav-section-chevron">
          <svg>
            <use href="#icon-chevron"></use>
          </svg>
        </span>
      </summary>

      <ul class="nav-list">






            <li>
              <a href="../LICENSE_txt.html">
                LICENSE
              </a>
            </li>




            <li>
              <a href="../NEWS_md.html">
                NEWS
              </a>
            </li>




            <li>
              <a href="../README_md.html">
                README
              </a>
            </li>





          <li>
            <details >
              <summary>
                
                  doc
                  
                
              </summary>

              <ul class="link-list">

                  <li>
                    <a href="../doc/rexml/context_rdoc.html">
                      context
                    </a>
                  </li>

                  <li>
                    <a href="../doc/rexml/tasks/includes/child_toc_rdoc.html">
                      child_toc
                    </a>
                  </li>

                  <li>
                    <a href="../doc/rexml/tasks/includes/document_toc_rdoc.html">
                      document_toc
                    </a>
                  </li>

                  <li>
                    <a href="../doc/rexml/tasks/includes/element_toc_rdoc.html">
                      element_toc
                    </a>
                  </li>

                  <li>
                    <a href="../doc/rexml/tasks/includes/node_toc_rdoc.html">
                      node_toc
                    </a>
                  </li>

                  <li>
                    <a href="../doc/rexml/tasks/includes/parent_toc_rdoc.html">
                      parent_toc
                    </a>
                  </li>

                  <li>
                    <a href="../doc/rexml/tasks/rdoc/child_rdoc.html">
                      child
                    </a>
                  </li>

                  <li>
                    <a href="../doc/rexml/tasks/rdoc/document_rdoc.html">
                      document
                    </a>
                  </li>

                  <li>
                    <a href="../doc/rexml/tasks/rdoc/element_rdoc.html">
                      element
                    </a>
                  </li>

                  <li>
                    <a href="../doc/rexml/tasks/rdoc/node_rdoc.html">
                      node
                    </a>
                  </li>

                  <li>
                    <a href="../doc/rexml/tasks/rdoc/parent_rdoc.html">
                      parent
                    </a>
                  </li>

                  <li>
                    <a href="../doc/rexml/tasks/rdoc/toc_rdoc.html">
                      toc
                    </a>
                  </li>

                  <li>
                    <a href="../doc/rexml/tutorial_rdoc.html">
                      tutorial
                    </a>
                  </li>

              </ul>
            </details>
          </li>

      </ul>
    </details>
  </div>


  

  

  

  

  
  <div class="nav-section">
    <details class="nav-section-collapsible" open>
      <summary class="nav-section-header">
        <span class="nav-section-icon">
          <svg><use href="#icon-class-methods"></use></svg>
        </span>
        <span class="nav-section-title">Class Methods</span>
        <span class="nav-section-chevron">
          <svg><use href="#icon-chevron"></use></svg>
        </span>
      </summary>
      <ul class="nav-list" role="directory">

        <li ><a href="#method-c-boolean">boolean</a></li>

        <li ><a href="#method-c-ceiling">ceiling</a></li>

        <li ><a href="#method-c-compare_language">compare_language</a></li>

        <li ><a href="#method-c-concat">concat</a></li>

        <li ><a href="#method-c-contains">contains</a></li>

        <li ><a href="#method-c-context-3D">context=</a></li>

        <li ><a href="#method-c-count">count</a></li>

        <li ><a href="#method-c-false">false</a></li>

        <li ><a href="#method-c-floor">floor</a></li>

        <li ><a href="#method-c-get_namespace">get_namespace</a></li>

        <li ><a href="#method-c-id">id</a></li>

        <li ><a href="#method-c-lang">lang</a></li>

        <li ><a href="#method-c-last">last</a></li>

        <li ><a href="#method-c-local_name">local_name</a></li>

        <li ><a href="#method-c-name">name</a></li>

        <li ><a href="#method-c-namespace_context">namespace_context</a></li>

        <li ><a href="#method-c-namespace_context-3D">namespace_context=</a></li>

        <li ><a href="#method-c-namespace_uri">namespace_uri</a></li>

        <li ><a href="#method-c-normalize_space">normalize_space</a></li>

        <li ><a href="#method-c-not">not</a></li>

        <li ><a href="#method-c-number">number</a></li>

        <li ><a href="#method-c-position">position</a></li>

        <li ><a href="#method-c-processing_instruction">processing_instruction</a></li>

        <li ><a href="#method-c-round">round</a></li>

        <li class="calls-super" ><a href="#method-c-send">send</a></li>

        <li ><a href="#method-c-singleton_method_added">singleton_method_added</a></li>

        <li ><a href="#method-c-starts_with">starts_with</a></li>

        <li ><a href="#method-c-string">string</a></li>

        <li ><a href="#method-c-string_length">string_length</a></li>

        <li ><a href="#method-c-string_value">string_value</a></li>

        <li ><a href="#method-c-substring">substring</a></li>

        <li ><a href="#method-c-substring_after">substring_after</a></li>

        <li ><a href="#method-c-substring_before">substring_before</a></li>

        <li ><a href="#method-c-sum">sum</a></li>

        <li ><a href="#method-c-text">text</a></li>

        <li ><a href="#method-c-translate">translate</a></li>

        <li ><a href="#method-c-true">true</a></li>

        <li ><a href="#method-c-variables">variables</a></li>

        <li ><a href="#method-c-variables-3D">variables=</a></li>

      </ul>
    </details>
  </div>




  <div id="classindex-section" class="nav-section">
  <details class="nav-section-collapsible" open>
    <summary class="nav-section-header">
      <span class="nav-section-icon">
        <svg><use href="#icon-layers"></use></svg>
      </span>
      <span class="nav-section-title">Classes and Modules</span>
      <span class="nav-section-chevron">
        <svg><use href="#icon-chevron"></use></svg>
      </span>
    </summary>

    <ul class="link-list nav-list"><li><details open><summary><code><a href="../REXML.html">REXML</a></code></summary><ul class="link-list nav-list"><li><code><a href="../REXML/AttlistDecl.html">AttlistDecl</a></code></li><li><code><a href="../REXML/Attribute.html">Attribute</a></code></li><li><code><a href="../REXML/Attributes.html">Attributes</a></code></li><li><code><a href="../REXML/CData.html">CData</a></code></li><li><code><a href="../REXML/Child.html">Child</a></code></li><li><code><a href="../REXML/Comment.html">Comment</a></code></li><li><code><a href="../REXML/DClonable.html">DClonable</a></code></li><li><details><summary><code><a href="../REXML/DTD.html">DTD</a></code></summary><ul class="link-list nav-list"><li><code><a href="../REXML/DTD/AttlistDecl.html">AttlistDecl</a></code></li><li><code><a href="../REXML/DTD/ElementDecl.html">ElementDecl</a></code></li><li><code><a href="../REXML/DTD/EntityDecl.html">EntityDecl</a></code></li><li><code><a href="../REXML/DTD/NotationDecl.html">NotationDecl</a></code></li><li><code><a href="../REXML/DTD/Parser.html">Parser</a></code></li></ul></details></li><li><code><a href="../REXML/Declaration.html">Declaration</a></code></li><li><code><a href="../REXML/DocType.html">DocType</a></code></li><li><code><a href="../REXML/Document.html">Document</a></code></li><li><code><a href="../REXML/Element.html">Element</a></code></li><li><code><a href="../REXML/ElementDecl.html">ElementDecl</a></code></li><li><code><a href="../REXML/Elements.html">Elements</a></code></li><li><code><a href="../REXML/Encoding.html">Encoding</a></code></li><li><code><a href="../REXML/Entity.html">Entity</a></code></li><li><code><a href="../REXML/EntityConst.html">EntityConst</a></code></li><li><code><a href="../REXML/ExternalEntity.html">ExternalEntity</a></code></li><li><details><summary><code><a href="../REXML/Formatters.html">Formatters</a></code></summary><ul class="link-list nav-list"><li><code><a href="../REXML/Formatters/Default.html">Default</a></code></li><li><code><a href="../REXML/Formatters/Pretty.html">Pretty</a></code></li><li><code><a href="../REXML/Formatters/Transitive.html">Transitive</a></code></li></ul></details></li><li><code><a href="../REXML/Functions.html">Functions</a></code></li><li><code><a href="../REXML/IOSource.html">IOSource</a></code></li><li><code><a href="../REXML/Instruction.html">Instruction</a></code></li><li><details><summary><code><a href="../REXML/Light.html">Light</a></code></summary><ul class="link-list nav-list"><li><code><a href="../REXML/Light/Node.html">Node</a></code></li></ul></details></li><li><code><a href="../REXML/Namespace.html">Namespace</a></code></li><li><code><a href="../REXML/Node.html">Node</a></code></li><li><code><a href="../REXML/NotationDecl.html">NotationDecl</a></code></li><li><code><a href="../REXML/Output.html">Output</a></code></li><li><code><a href="../REXML/Parent.html">Parent</a></code></li><li><code><a href="../REXML/ParseException.html">ParseException</a></code></li><li><details><summary><code><a href="../REXML/Parsers.html">Parsers</a></code></summary><ul class="link-list nav-list"><li><details><summary><code><a href="../REXML/Parsers/BaseParser.html">BaseParser</a></code></summary><ul class="link-list nav-list"><li><code><a href="../REXML/Parsers/BaseParser/Private.html">Private</a></code></li></ul></details></li><li><code><a href="../REXML/Parsers/EnumerableTally.html">EnumerableTally</a></code></li><li><code><a href="../REXML/Parsers/LightParser.html">LightParser</a></code></li><li><code><a href="../REXML/Parsers/PullEvent.html">PullEvent</a></code></li><li><code><a href="../REXML/Parsers/PullParser.html">PullParser</a></code></li><li><code><a href="../REXML/Parsers/SAX2Parser.html">SAX2Parser</a></code></li><li><code><a href="../REXML/Parsers/StreamParser.html">StreamParser</a></code></li><li><code><a href="../REXML/Parsers/StringScannerCaptures.html">StringScannerCaptures</a></code></li><li><code><a href="../REXML/Parsers/TreeParser.html">TreeParser</a></code></li><li><code><a href="../REXML/Parsers/UltraLightParser.html">UltraLightParser</a></code></li><li><code><a href="../REXML/Parsers/XPathParser.html">XPathParser</a></code></li></ul></details></li><li><code><a href="../REXML/QuickPath.html">QuickPath</a></code></li><li><code><a href="../REXML/ReferenceWriter.html">ReferenceWriter</a></code></li><li><code><a href="../REXML/SAX2Listener.html">SAX2Listener</a></code></li><li><code><a href="../REXML/Security.html">Security</a></code></li><li><details><summary><code><a href="../REXML/Source.html">Source</a></code></summary><ul class="link-list nav-list"><li><code><a href="../REXML/Source/Private.html">Private</a></code></li></ul></details></li><li><code><a href="../REXML/SourceFactory.html">SourceFactory</a></code></li><li><code><a href="../REXML/StreamListener.html">StreamListener</a></code></li><li><code><a href="../REXML/StringScannerCheckScanString.html">StringScannerCheckScanString</a></code></li><li><code><a href="../REXML/Text.html">Text</a></code></li><li><code><a href="../REXML/UndefinedNamespaceException.html">UndefinedNamespaceException</a></code></li><li><details><summary><code><a href="../REXML/Validation.html">Validation</a></code></summary><ul class="link-list nav-list"><li><code><a href="../REXML/Validation/Choice.html">Choice</a></code></li><li><code><a href="../REXML/Validation/Event.html">Event</a></code></li><li><code><a href="../REXML/Validation/Interleave.html">Interleave</a></code></li><li><code><a href="../REXML/Validation/OneOrMore.html">OneOrMore</a></code></li><li><code><a href="../REXML/Validation/Optional.html">Optional</a></code></li><li><code><a href="../REXML/Validation/Ref.html">Ref</a></code></li><li><code><a href="../REXML/Validation/RelaxNG.html">RelaxNG</a></code></li><li><code><a href="../REXML/Validation/Sequence.html">Sequence</a></code></li><li><code><a href="../REXML/Validation/State.html">State</a></code></li><li><code><a href="../REXML/Validation/ValidationException.html">ValidationException</a></code></li><li><code><a href="../REXML/Validation/Validator.html">Validator</a></code></li><li><code><a href="../REXML/Validation/ZeroOrMore.html">ZeroOrMore</a></code></li></ul></details></li><li><code><a href="../REXML/XMLDecl.html">XMLDecl</a></code></li><li><code><a href="../REXML/XMLTokens.html">XMLTokens</a></code></li><li><code><a href="../REXML/XPath.html">XPath</a></code></li><li><code><a href="../REXML/XPathNode.html">XPathNode</a></code></li><li><code><a href="../REXML/XPathParser.html">XPathParser</a></code></li></ul></details></li></ul>
  </details>
</div>

</nav>

<main role="main" aria-labelledby="module-REXML::Functions">
  
  
    <ol role="navigation" aria-label="Breadcrumb navigation" class="breadcrumb">
      
      <li>
        
        <a href="../REXML.html">REXML</a><span>::</span>
        
      </li>
      
      <li>
        
        <span>Functions</span>
        
      </li>
      
    </ol>
  

  <h1 id="module-REXML::Functions" class="anchor-link module">
    module REXML::Functions
  </h1>

  <section class="description">
    
<p>If you add a method, keep in mind two things: (1) the first argument will always be a list of nodes from which to filter.  In the case of context methods (such as position), the function should return an array with a value for each child in the array. (2) all method calls from XML will have ‚Äú-‚Äù replaced with ‚Äú_‚Äù. Therefore, in XML, ‚Äúlocal-name()‚Äù is identical (and actually becomes) ‚Äúlocal_name()‚Äù</p>

  </section>


  <section id="5Buntitled-5D" class="documentation-section anchor-link">





    <section class="constants-list">
      <header>
        <h3 id="constants"><a href="#constants">Constants</a></h3>
      </header>
      <dl>

        <dt id="INTERNAL_METHODS">INTERNAL_METHODS</dt>

        <dd>

          
        </dd>


        <dt id="namespace_context">namespace_context</dt>

        <dd>

          
        </dd>


        <dt id="variables">variables</dt>

        <dd>

          
        </dd>


      </dl>
    </section>





     <section id="public-class-5Buntitled-5D-method-details" class="method-section anchor-link">
       <header>
         <h3 id="public-class-methods"><a href="#public-class-methods">Public Class Methods</a></h3>
       </header>


      <div id="method-c-boolean" class="method-detail anchor-link ">
        <div class="method-header">

            <div class="method-heading">
              <a href="#method-c-boolean" title="Link to this method">
                <span class="method-name">boolean</span>
                <span class="method-args">(object=@@context[:node])</span>
              </a>
            </div>

        </div>


          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>
          <div class="method-source-code" id="boolean-source">
            <pre class="ruby" data-language="ruby"><span class="ruby-comment"># File lib/rexml/functions.rb, line 317</span>
<span class="ruby-keyword">def</span> <span class="ruby-constant">Functions</span><span class="ruby-operator">::</span><span class="ruby-identifier ruby-title">boolean</span>(<span class="ruby-identifier">object</span>=<span class="ruby-identifier">@@context</span>[<span class="ruby-value">:node</span>])
  <span class="ruby-keyword">case</span> <span class="ruby-identifier">object</span>
  <span class="ruby-keyword">when</span> <span class="ruby-keyword">true</span>, <span class="ruby-keyword">false</span>
    <span class="ruby-identifier">object</span>
  <span class="ruby-keyword">when</span> <span class="ruby-constant">Float</span>
    <span class="ruby-keyword">return</span> <span class="ruby-keyword">false</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">object</span>.<span class="ruby-identifier">zero?</span>
    <span class="ruby-keyword">return</span> <span class="ruby-keyword">false</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">object</span>.<span class="ruby-identifier">nan?</span>
    <span class="ruby-keyword">true</span>
  <span class="ruby-keyword">when</span> <span class="ruby-constant">Numeric</span>
    <span class="ruby-keyword">not</span> <span class="ruby-identifier">object</span>.<span class="ruby-identifier">zero?</span>
  <span class="ruby-keyword">when</span> <span class="ruby-constant">String</span>
    <span class="ruby-keyword">not</span> <span class="ruby-identifier">object</span>.<span class="ruby-identifier">empty?</span>
  <span class="ruby-keyword">when</span> <span class="ruby-constant">Array</span>
    <span class="ruby-keyword">not</span> <span class="ruby-identifier">object</span>.<span class="ruby-identifier">empty?</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">object</span> <span class="ruby-operator">?</span> <span class="ruby-keyword">true</span> <span class="ruby-operator">:</span> <span class="ruby-keyword">false</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>



        <div class="method-description">


          


        </div>





      </div>


      <div id="method-c-ceiling" class="method-detail anchor-link ">
        <div class="method-header">

            <div class="method-heading">
              <a href="#method-c-ceiling" title="Link to this method">
                <span class="method-name">ceiling</span>
                <span class="method-args">( number )</span>
              </a>
            </div>

        </div>


          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>
          <div class="method-source-code" id="ceiling-source">
            <pre class="ruby" data-language="ruby"><span class="ruby-comment"># File lib/rexml/functions.rb, line 417</span>
<span class="ruby-keyword">def</span> <span class="ruby-constant">Functions</span><span class="ruby-operator">::</span><span class="ruby-identifier ruby-title">ceiling</span>( <span class="ruby-identifier">number</span> )
  <span class="ruby-identifier">number</span>(<span class="ruby-identifier">number</span>).<span class="ruby-identifier">ceil</span>
<span class="ruby-keyword">end</span></pre>
          </div>



        <div class="method-description">


          


        </div>





      </div>


      <div id="method-c-compare_language" class="method-detail anchor-link ">
        <div class="method-header">

            <div class="method-heading">
              <a href="#method-c-compare_language" title="Link to this method">
                <span class="method-name">compare_language</span>
                <span class="method-args">(lang1, lang2)</span>
              </a>
            </div>

        </div>


          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>
          <div class="method-source-code" id="compare_language-source">
            <pre class="ruby" data-language="ruby"><span class="ruby-comment"># File lib/rexml/functions.rb, line 370</span>
<span class="ruby-keyword">def</span> <span class="ruby-constant">Functions</span><span class="ruby-operator">::</span><span class="ruby-identifier ruby-title">compare_language</span> <span class="ruby-identifier">lang1</span>, <span class="ruby-identifier">lang2</span>
  <span class="ruby-identifier">lang2</span>.<span class="ruby-identifier">downcase</span>.<span class="ruby-identifier">index</span>(<span class="ruby-identifier">lang1</span>.<span class="ruby-identifier">downcase</span>) <span class="ruby-operator">==</span> <span class="ruby-value">0</span>
<span class="ruby-keyword">end</span></pre>
          </div>



        <div class="method-description">


          


        </div>





      </div>


      <div id="method-c-concat" class="method-detail anchor-link ">
        <div class="method-header">

            <div class="method-heading">
              <a href="#method-c-concat" title="Link to this method">
                <span class="method-name">concat</span>
                <span class="method-args">( *objects )</span>
              </a>
            </div>

        </div>


          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>
          <div class="method-source-code" id="concat-source">
            <pre class="ruby" data-language="ruby"><span class="ruby-comment"># File lib/rexml/functions.rb, line 190</span>
<span class="ruby-keyword">def</span> <span class="ruby-constant">Functions</span><span class="ruby-operator">::</span><span class="ruby-identifier ruby-title">concat</span>( <span class="ruby-operator">*</span><span class="ruby-identifier">objects</span> )
  <span class="ruby-identifier">concatenated</span> = <span class="ruby-string">&quot;&quot;</span>
  <span class="ruby-identifier">objects</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">object</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">concatenated</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">string</span>(<span class="ruby-identifier">object</span>)
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">concatenated</span>
<span class="ruby-keyword">end</span></pre>
          </div>



        <div class="method-description">


          


        </div>





      </div>


      <div id="method-c-contains" class="method-detail anchor-link ">
        <div class="method-header">

            <div class="method-heading">
              <a href="#method-c-contains" title="Link to this method">
                <span class="method-name">contains</span>
                <span class="method-args">( string, test )</span>
              </a>
            </div>

        </div>


          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>
          <div class="method-source-code" id="contains-source">
            <pre class="ruby" data-language="ruby"><span class="ruby-comment"># File lib/rexml/functions.rb, line 204</span>
<span class="ruby-keyword">def</span> <span class="ruby-constant">Functions</span><span class="ruby-operator">::</span><span class="ruby-identifier ruby-title">contains</span>( <span class="ruby-identifier">string</span>, <span class="ruby-identifier">test</span> )
  <span class="ruby-identifier">string</span>(<span class="ruby-identifier">string</span>).<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">string</span>(<span class="ruby-identifier">test</span>))
<span class="ruby-keyword">end</span></pre>
          </div>



        <div class="method-description">


          <p>Fixed by Mike Stok</p>


        </div>





      </div>


      <div id="method-c-context-3D" class="method-detail anchor-link ">
        <div class="method-header">

            <div class="method-heading">
              <a href="#method-c-context-3D" title="Link to this method">
                <span class="method-name">context=</span>
                <span class="method-args">(value)</span>
              </a>
            </div>

        </div>


          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>
          <div class="method-source-code" id="context-3D-source">
            <pre class="ruby" data-language="ruby"><span class="ruby-comment"># File lib/rexml/functions.rb, line 38</span>
<span class="ruby-keyword">def</span> <span class="ruby-constant">Functions</span><span class="ruby-operator">::</span><span class="ruby-identifier ruby-title">context=</span>(<span class="ruby-identifier">value</span>); <span class="ruby-identifier">@@context</span> = <span class="ruby-identifier">value</span>; <span class="ruby-keyword">end</span></pre>
          </div>



        <div class="method-description">


          


        </div>





      </div>


      <div id="method-c-count" class="method-detail anchor-link ">
        <div class="method-header">

            <div class="method-heading">
              <a href="#method-c-count" title="Link to this method">
                <span class="method-name">count</span>
                <span class="method-args">( node_set )</span>
              </a>
            </div>

        </div>


          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>
          <div class="method-source-code" id="count-source">
            <pre class="ruby" data-language="ruby"><span class="ruby-comment"># File lib/rexml/functions.rb, line 60</span>
<span class="ruby-keyword">def</span> <span class="ruby-constant">Functions</span><span class="ruby-operator">::</span><span class="ruby-identifier ruby-title">count</span>( <span class="ruby-identifier">node_set</span> )
  <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">size</span>
<span class="ruby-keyword">end</span></pre>
          </div>



        <div class="method-description">


          <p>Returns the size of the given list of nodes.</p>


        </div>





      </div>


      <div id="method-c-false" class="method-detail anchor-link ">
        <div class="method-header">

            <div class="method-heading">
              <a href="#method-c-false" title="Link to this method">
                <span class="method-name">false</span>
                <span class="method-args">( )</span>
              </a>
            </div>

        </div>


          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>
          <div class="method-source-code" id="false-source">
            <pre class="ruby" data-language="ruby"><span class="ruby-comment"># File lib/rexml/functions.rb, line 347</span>
<span class="ruby-keyword">def</span> <span class="ruby-constant">Functions</span><span class="ruby-operator">::</span><span class="ruby-keyword">false</span>(  )
  <span class="ruby-keyword">false</span>
<span class="ruby-keyword">end</span></pre>
          </div>



        <div class="method-description">


          <p>UNTESTED</p>


        </div>





      </div>


      <div id="method-c-floor" class="method-detail anchor-link ">
        <div class="method-header">

            <div class="method-heading">
              <a href="#method-c-floor" title="Link to this method">
                <span class="method-name">floor</span>
                <span class="method-args">( number )</span>
              </a>
            </div>

        </div>


          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>
          <div class="method-source-code" id="floor-source">
            <pre class="ruby" data-language="ruby"><span class="ruby-comment"># File lib/rexml/functions.rb, line 413</span>
<span class="ruby-keyword">def</span> <span class="ruby-constant">Functions</span><span class="ruby-operator">::</span><span class="ruby-identifier ruby-title">floor</span>( <span class="ruby-identifier">number</span> )
  <span class="ruby-identifier">number</span>(<span class="ruby-identifier">number</span>).<span class="ruby-identifier">floor</span>
<span class="ruby-keyword">end</span></pre>
          </div>



        <div class="method-description">


          


        </div>





      </div>


      <div id="method-c-get_namespace" class="method-detail anchor-link ">
        <div class="method-header">

            <div class="method-heading">
              <a href="#method-c-get_namespace" title="Link to this method">
                <span class="method-name">get_namespace</span>
                <span class="method-args">( node_set = nil ) { |context| ... }</span>
              </a>
            </div>

        </div>


          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>
          <div class="method-source-code" id="get_namespace-source">
            <pre class="ruby" data-language="ruby"><span class="ruby-comment"># File lib/rexml/functions.rb, line 87</span>
<span class="ruby-keyword">def</span> <span class="ruby-constant">Functions</span><span class="ruby-operator">::</span><span class="ruby-identifier ruby-title">get_namespace</span>( <span class="ruby-identifier">node_set</span> = <span class="ruby-keyword">nil</span> )
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">node_set</span> <span class="ruby-operator">==</span> <span class="ruby-keyword">nil</span>
    <span class="ruby-keyword">yield</span> <span class="ruby-identifier">@@context</span>[<span class="ruby-value">:node</span>] <span class="ruby-keyword">if</span> <span class="ruby-identifier">@@context</span>[<span class="ruby-value">:node</span>].<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:namespace</span>)
  <span class="ruby-keyword">else</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">respond_to?</span> <span class="ruby-value">:each</span>
      <span class="ruby-identifier">result</span> = []
      <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">node</span><span class="ruby-operator">|</span>
        <span class="ruby-identifier">result</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-keyword">yield</span>(<span class="ruby-identifier">node</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:namespace</span>)
      <span class="ruby-keyword">end</span>
      <span class="ruby-identifier">result</span>
    <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">respond_to?</span> <span class="ruby-value">:namespace</span>
      <span class="ruby-keyword">yield</span> <span class="ruby-identifier">node_set</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>



        <div class="method-description">


          <p>Helper method.</p>


        </div>





      </div>


      <div id="method-c-id" class="method-detail anchor-link ">
        <div class="method-header">

            <div class="method-heading">
              <a href="#method-c-id" title="Link to this method">
                <span class="method-name">id</span>
                <span class="method-args">( object )</span>
              </a>
            </div>

        </div>


          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>
          <div class="method-source-code" id="id-source">
            <pre class="ruby" data-language="ruby"><span class="ruby-comment"># File lib/rexml/functions.rb, line 66</span>
<span class="ruby-keyword">def</span> <span class="ruby-constant">Functions</span><span class="ruby-operator">::</span><span class="ruby-identifier ruby-title">id</span>( <span class="ruby-identifier">object</span> )
<span class="ruby-keyword">end</span></pre>
          </div>



        <div class="method-description">


          <p>Since <a href="../REXML.html"><code>REXML</code></a> is non-validating, this method is not implemented as it requires a <a href="DTD.html"><code>DTD</code></a></p>


        </div>





      </div>


      <div id="method-c-lang" class="method-detail anchor-link ">
        <div class="method-header">

            <div class="method-heading">
              <a href="#method-c-lang" title="Link to this method">
                <span class="method-name">lang</span>
                <span class="method-args">( language )</span>
              </a>
            </div>

        </div>


          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>
          <div class="method-source-code" id="lang-source">
            <pre class="ruby" data-language="ruby"><span class="ruby-comment"># File lib/rexml/functions.rb, line 352</span>
<span class="ruby-keyword">def</span> <span class="ruby-constant">Functions</span><span class="ruby-operator">::</span><span class="ruby-identifier ruby-title">lang</span>( <span class="ruby-identifier">language</span> )
  <span class="ruby-identifier">lang</span> = <span class="ruby-keyword">false</span>
  <span class="ruby-identifier">node</span> = <span class="ruby-identifier">@@context</span>[<span class="ruby-value">:node</span>]
  <span class="ruby-identifier">attr</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-keyword">until</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">nil?</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">node_type</span> <span class="ruby-operator">==</span> <span class="ruby-value">:element</span>
      <span class="ruby-identifier">attr</span> = <span class="ruby-identifier">node</span>.<span class="ruby-identifier">attributes</span>[<span class="ruby-string">&quot;xml:lang&quot;</span>]
      <span class="ruby-keyword">unless</span> <span class="ruby-identifier">attr</span>.<span class="ruby-identifier">nil?</span>
        <span class="ruby-identifier">lang</span> = <span class="ruby-identifier">compare_language</span>(<span class="ruby-identifier">string</span>(<span class="ruby-identifier">language</span>), <span class="ruby-identifier">attr</span>)
        <span class="ruby-keyword">break</span>
      <span class="ruby-keyword">else</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
    <span class="ruby-identifier">node</span> = <span class="ruby-identifier">node</span>.<span class="ruby-identifier">parent</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">lang</span>
<span class="ruby-keyword">end</span></pre>
          </div>



        <div class="method-description">


          <p>UNTESTED</p>


        </div>





      </div>


      <div id="method-c-last" class="method-detail anchor-link ">
        <div class="method-header">

            <div class="method-heading">
              <a href="#method-c-last" title="Link to this method">
                <span class="method-name">last</span>
                <span class="method-args">( )</span>
              </a>
            </div>

        </div>


          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>
          <div class="method-source-code" id="last-source">
            <pre class="ruby" data-language="ruby"><span class="ruby-comment"># File lib/rexml/functions.rb, line 51</span>
<span class="ruby-keyword">def</span> <span class="ruby-constant">Functions</span><span class="ruby-operator">::</span><span class="ruby-identifier ruby-title">last</span>( )
  <span class="ruby-identifier">@@context</span>[<span class="ruby-value">:size</span>]
<span class="ruby-keyword">end</span></pre>
          </div>



        <div class="method-description">


          <p>Returns the last node of the given list of nodes.</p>


        </div>





      </div>


      <div id="method-c-local_name" class="method-detail anchor-link ">
        <div class="method-header">

            <div class="method-heading">
              <a href="#method-c-local_name" title="Link to this method">
                <span class="method-name">local_name</span>
                <span class="method-args">(node_set=nil)</span>
              </a>
            </div>

        </div>


          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>
          <div class="method-source-code" id="local_name-source">
            <pre class="ruby" data-language="ruby"><span class="ruby-comment"># File lib/rexml/functions.rb, line 69</span>
<span class="ruby-keyword">def</span> <span class="ruby-constant">Functions</span><span class="ruby-operator">::</span><span class="ruby-identifier ruby-title">local_name</span>(<span class="ruby-identifier">node_set</span>=<span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">get_namespace</span>(<span class="ruby-identifier">node_set</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">node</span><span class="ruby-operator">|</span>
    <span class="ruby-keyword">return</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">local_name</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-string">&quot;&quot;</span>
<span class="ruby-keyword">end</span></pre>
          </div>



        <div class="method-description">


          


        </div>





      </div>


      <div id="method-c-name" class="method-detail anchor-link ">
        <div class="method-header">

            <div class="method-heading">
              <a href="#method-c-name" title="Link to this method">
                <span class="method-name">name</span>
                <span class="method-args">( node_set=nil )</span>
              </a>
            </div>

        </div>


          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>
          <div class="method-source-code" id="name-source">
            <pre class="ruby" data-language="ruby"><span class="ruby-comment"># File lib/rexml/functions.rb, line 80</span>
<span class="ruby-keyword">def</span> <span class="ruby-constant">Functions</span><span class="ruby-operator">::</span><span class="ruby-identifier ruby-title">name</span>( <span class="ruby-identifier">node_set</span>=<span class="ruby-keyword">nil</span> )
  <span class="ruby-identifier">get_namespace</span>( <span class="ruby-identifier">node_set</span> ) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">node</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">node</span>.<span class="ruby-identifier">expanded_name</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>



        <div class="method-description">


          


        </div>





      </div>


      <div id="method-c-namespace_context" class="method-detail anchor-link ">
        <div class="method-header">

            <div class="method-heading">
              <a href="#method-c-namespace_context" title="Link to this method">
                <span class="method-name">namespace_context</span>
                <span class="method-args">()</span>
              </a>
            </div>

        </div>


          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>
          <div class="method-source-code" id="namespace_context-source">
            <pre class="ruby" data-language="ruby"><span class="ruby-comment"># File lib/rexml/functions.rb, line 35</span>
<span class="ruby-keyword">def</span> <span class="ruby-constant">Functions</span><span class="ruby-operator">::</span><span class="ruby-identifier ruby-title">namespace_context</span> ; <span class="ruby-identifier">@@namespace_context</span> ; <span class="ruby-keyword">end</span></pre>
          </div>



        <div class="method-description">


          


        </div>





      </div>


      <div id="method-c-namespace_context-3D" class="method-detail anchor-link ">
        <div class="method-header">

            <div class="method-heading">
              <a href="#method-c-namespace_context-3D" title="Link to this method">
                <span class="method-name">namespace_context=</span>
                <span class="method-args">(x)</span>
              </a>
            </div>

        </div>


          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>
          <div class="method-source-code" id="namespace_context-3D-source">
            <pre class="ruby" data-language="ruby"><span class="ruby-comment"># File lib/rexml/functions.rb, line 33</span>
<span class="ruby-keyword">def</span> <span class="ruby-constant">Functions</span><span class="ruby-operator">::</span><span class="ruby-identifier ruby-title">namespace_context=</span>(<span class="ruby-identifier">x</span>) ; <span class="ruby-identifier">@@namespace_context</span>=<span class="ruby-identifier">x</span> ; <span class="ruby-keyword">end</span></pre>
          </div>



        <div class="method-description">


          


        </div>





      </div>


      <div id="method-c-namespace_uri" class="method-detail anchor-link ">
        <div class="method-header">

            <div class="method-heading">
              <a href="#method-c-namespace_uri" title="Link to this method">
                <span class="method-name">namespace_uri</span>
                <span class="method-args">( node_set=nil )</span>
              </a>
            </div>

        </div>


          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>
          <div class="method-source-code" id="namespace_uri-source">
            <pre class="ruby" data-language="ruby"><span class="ruby-comment"># File lib/rexml/functions.rb, line 76</span>
<span class="ruby-keyword">def</span> <span class="ruby-constant">Functions</span><span class="ruby-operator">::</span><span class="ruby-identifier ruby-title">namespace_uri</span>( <span class="ruby-identifier">node_set</span>=<span class="ruby-keyword">nil</span> )
  <span class="ruby-identifier">get_namespace</span>( <span class="ruby-identifier">node_set</span> ) {<span class="ruby-operator">|</span><span class="ruby-identifier">node</span><span class="ruby-operator">|</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">namespace</span>}
<span class="ruby-keyword">end</span></pre>
          </div>



        <div class="method-description">


          


        </div>





      </div>


      <div id="method-c-normalize_space" class="method-detail anchor-link ">
        <div class="method-header">

            <div class="method-heading">
              <a href="#method-c-normalize_space" title="Link to this method">
                <span class="method-name">normalize_space</span>
                <span class="method-args">( string=nil )</span>
              </a>
            </div>

        </div>


          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>
          <div class="method-source-code" id="normalize_space-source">
            <pre class="ruby" data-language="ruby"><span class="ruby-comment"># File lib/rexml/functions.rb, line 265</span>
<span class="ruby-keyword">def</span> <span class="ruby-constant">Functions</span><span class="ruby-operator">::</span><span class="ruby-identifier ruby-title">normalize_space</span>( <span class="ruby-identifier">string</span>=<span class="ruby-keyword">nil</span> )
  <span class="ruby-identifier">string</span> = <span class="ruby-identifier">string</span>(<span class="ruby-identifier">@@context</span>[<span class="ruby-value">:node</span>]) <span class="ruby-keyword">if</span> <span class="ruby-identifier">string</span>.<span class="ruby-identifier">nil?</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">string</span>.<span class="ruby-identifier">kind_of?</span> <span class="ruby-constant">Array</span>
    <span class="ruby-identifier">string</span>.<span class="ruby-identifier">collect</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span> <span class="ruby-identifier">x</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">strip</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-regexp">/\s+/um</span>, <span class="ruby-string">&#39; &#39;</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">x</span>}
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">string</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">strip</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-regexp">/\s+/um</span>, <span class="ruby-string">&#39; &#39;</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>



        <div class="method-description">


          


        </div>





      </div>


      <div id="method-c-not" class="method-detail anchor-link ">
        <div class="method-header">

            <div class="method-heading">
              <a href="#method-c-not" title="Link to this method">
                <span class="method-name">not</span>
                <span class="method-args">( object )</span>
              </a>
            </div>

        </div>


          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>
          <div class="method-source-code" id="not-source">
            <pre class="ruby" data-language="ruby"><span class="ruby-comment"># File lib/rexml/functions.rb, line 337</span>
<span class="ruby-keyword">def</span> <span class="ruby-constant">Functions</span><span class="ruby-operator">::</span><span class="ruby-keyword">not</span>( <span class="ruby-identifier ruby-title">object</span> )
  <span class="ruby-keyword">not</span> <span class="ruby-identifier">boolean</span>( <span class="ruby-identifier">object</span> )
<span class="ruby-keyword">end</span></pre>
          </div>



        <div class="method-description">


          <p>UNTESTED</p>


        </div>





      </div>


      <div id="method-c-number" class="method-detail anchor-link ">
        <div class="method-header">

            <div class="method-heading">
              <a href="#method-c-number" title="Link to this method">
                <span class="method-name">number</span>
                <span class="method-args">(object=@@context[:node])</span>
              </a>
            </div>

        </div>


          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>
          <div class="method-source-code" id="number-source">
            <pre class="ruby" data-language="ruby"><span class="ruby-comment"># File lib/rexml/functions.rb, line 387</span>
<span class="ruby-keyword">def</span> <span class="ruby-constant">Functions</span><span class="ruby-operator">::</span><span class="ruby-identifier ruby-title">number</span>(<span class="ruby-identifier">object</span>=<span class="ruby-identifier">@@context</span>[<span class="ruby-value">:node</span>])
  <span class="ruby-keyword">case</span> <span class="ruby-identifier">object</span>
  <span class="ruby-keyword">when</span> <span class="ruby-keyword">true</span>
    <span class="ruby-constant">Float</span>(<span class="ruby-value">1</span>)
  <span class="ruby-keyword">when</span> <span class="ruby-keyword">false</span>
    <span class="ruby-constant">Float</span>(<span class="ruby-value">0</span>)
  <span class="ruby-keyword">when</span> <span class="ruby-constant">Array</span>
    <span class="ruby-identifier">number</span>(<span class="ruby-identifier">string</span>(<span class="ruby-identifier">object</span>))
  <span class="ruby-keyword">when</span> <span class="ruby-constant">Numeric</span>
    <span class="ruby-identifier">object</span>.<span class="ruby-identifier">to_f</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">str</span> = <span class="ruby-identifier">string</span>(<span class="ruby-identifier">object</span>)
    <span class="ruby-keyword">case</span> <span class="ruby-identifier">str</span>.<span class="ruby-identifier">strip</span>
    <span class="ruby-keyword">when</span> <span class="ruby-regexp">/\A\s*(-?(?:\d+(?:\.\d*)?|\.\d+))\s*\z/</span>
      <span class="ruby-node">$1</span>.<span class="ruby-identifier">to_f</span>
    <span class="ruby-keyword">else</span>
      <span class="ruby-constant">Float</span><span class="ruby-operator">::</span><span class="ruby-constant">NAN</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>



        <div class="method-description">


          <p>a string that consists of optional whitespace followed by an optional minus sign followed by a Number followed by whitespace is converted to the IEEE 754 number that is nearest (according to the IEEE 754 round-to-nearest rule) to the mathematical value represented by the string; any other string is converted to NaN</p>

<p>boolean true is converted to 1; boolean false is converted to 0</p>

<p>a node-set is first converted to a string as if by a call to the string function and then converted in the same way as a string argument</p>

<p>an object of a type other than the four basic types is converted to a number in a way that is dependent on that type</p>


        </div>





      </div>


      <div id="method-c-position" class="method-detail anchor-link ">
        <div class="method-header">

            <div class="method-heading">
              <a href="#method-c-position" title="Link to this method">
                <span class="method-name">position</span>
                <span class="method-args">( )</span>
              </a>
            </div>

        </div>


          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>
          <div class="method-source-code" id="position-source">
            <pre class="ruby" data-language="ruby"><span class="ruby-comment"># File lib/rexml/functions.rb, line 55</span>
<span class="ruby-keyword">def</span> <span class="ruby-constant">Functions</span><span class="ruby-operator">::</span><span class="ruby-identifier ruby-title">position</span>( )
  <span class="ruby-identifier">@@context</span>[<span class="ruby-value">:index</span>]
<span class="ruby-keyword">end</span></pre>
          </div>



        <div class="method-description">


          


        </div>





      </div>


      <div id="method-c-processing_instruction" class="method-detail anchor-link ">
        <div class="method-header">

            <div class="method-heading">
              <a href="#method-c-processing_instruction" title="Link to this method">
                <span class="method-name">processing_instruction</span>
                <span class="method-args">( node )</span>
              </a>
            </div>

        </div>


          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>
          <div class="method-source-code" id="processing_instruction-source">
            <pre class="ruby" data-language="ruby"><span class="ruby-comment"># File lib/rexml/functions.rb, line 432</span>
<span class="ruby-keyword">def</span> <span class="ruby-constant">Functions</span><span class="ruby-operator">::</span><span class="ruby-identifier ruby-title">processing_instruction</span>( <span class="ruby-identifier">node</span> )
  <span class="ruby-identifier">node</span>.<span class="ruby-identifier">node_type</span> <span class="ruby-operator">==</span> <span class="ruby-value">:processing_instruction</span>
<span class="ruby-keyword">end</span></pre>
          </div>



        <div class="method-description">


          


        </div>





      </div>


      <div id="method-c-round" class="method-detail anchor-link ">
        <div class="method-header">

            <div class="method-heading">
              <a href="#method-c-round" title="Link to this method">
                <span class="method-name">round</span>
                <span class="method-args">( number )</span>
              </a>
            </div>

        </div>


          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>
          <div class="method-source-code" id="round-source">
            <pre class="ruby" data-language="ruby"><span class="ruby-comment"># File lib/rexml/functions.rb, line 421</span>
<span class="ruby-keyword">def</span> <span class="ruby-constant">Functions</span><span class="ruby-operator">::</span><span class="ruby-identifier ruby-title">round</span>( <span class="ruby-identifier">number</span> )
  <span class="ruby-identifier">number</span> = <span class="ruby-identifier">number</span>(<span class="ruby-identifier">number</span>)
  <span class="ruby-keyword">begin</span>
    <span class="ruby-identifier">neg</span> = <span class="ruby-identifier">number</span>.<span class="ruby-identifier">negative?</span>
    <span class="ruby-identifier">number</span> = <span class="ruby-identifier">number</span>.<span class="ruby-identifier">abs</span>.<span class="ruby-identifier">round</span>
    <span class="ruby-identifier">neg</span> <span class="ruby-operator">?</span> <span class="ruby-operator">-</span><span class="ruby-identifier">number</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">number</span>
  <span class="ruby-keyword">rescue</span> <span class="ruby-constant">FloatDomainError</span>
    <span class="ruby-identifier">number</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>



        <div class="method-description">


          


        </div>





      </div>


      <div id="method-c-send" class="method-detail anchor-link ">
        <div class="method-header">

            <div class="method-heading">
              <a href="#method-c-send" title="Link to this method">
                <span class="method-name">send</span>
                <span class="method-args">(name, *args)</span>
              </a>
            </div>

        </div>


          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>
          <div class="method-source-code" id="send-source">
            <pre class="ruby" data-language="ruby"><span class="ruby-comment"># File lib/rexml/functions.rb, line 436</span>
<span class="ruby-keyword">def</span> <span class="ruby-constant">Functions</span><span class="ruby-operator">::</span><span class="ruby-identifier ruby-title">send</span>(<span class="ruby-identifier">name</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">@@available_functions</span>[<span class="ruby-identifier">name</span>.<span class="ruby-identifier">to_sym</span>]
    <span class="ruby-keyword">super</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-comment"># TODO: Maybe, this is not XPath spec behavior.</span>
    <span class="ruby-comment"># This behavior must be reconsidered.</span>
    <span class="ruby-constant">XPath</span>.<span class="ruby-identifier">match</span>(<span class="ruby-identifier">@@context</span>[<span class="ruby-value">:node</span>], <span class="ruby-identifier">name</span>.<span class="ruby-identifier">to_s</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>



        <div class="method-description">


          


            <div class="method-calls-super">
              Calls superclass method
              
            </div>

        </div>





      </div>


      <div id="method-c-singleton_method_added" class="method-detail anchor-link ">
        <div class="method-header">

            <div class="method-heading">
              <a href="#method-c-singleton_method_added" title="Link to this method">
                <span class="method-name">singleton_method_added</span>
                <span class="method-args">(name)</span>
              </a>
            </div>

        </div>


          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>
          <div class="method-source-code" id="singleton_method_added-source">
            <pre class="ruby" data-language="ruby"><span class="ruby-comment"># File lib/rexml/functions.rb, line 26</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">singleton_method_added</span>(<span class="ruby-identifier">name</span>)
  <span class="ruby-keyword">unless</span> <span class="ruby-constant">INTERNAL_METHODS</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">name</span>)
    <span class="ruby-identifier">@@available_functions</span>[<span class="ruby-identifier">name</span>] = <span class="ruby-keyword">true</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>



        <div class="method-description">


          


        </div>





      </div>


      <div id="method-c-starts_with" class="method-detail anchor-link ">
        <div class="method-header">

            <div class="method-heading">
              <a href="#method-c-starts_with" title="Link to this method">
                <span class="method-name">starts_with</span>
                <span class="method-args">( string, test )</span>
              </a>
            </div>

        </div>


          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>
          <div class="method-source-code" id="starts_with-source">
            <pre class="ruby" data-language="ruby"><span class="ruby-comment"># File lib/rexml/functions.rb, line 199</span>
<span class="ruby-keyword">def</span> <span class="ruby-constant">Functions</span><span class="ruby-operator">::</span><span class="ruby-identifier ruby-title">starts_with</span>( <span class="ruby-identifier">string</span>, <span class="ruby-identifier">test</span> )
  <span class="ruby-identifier">string</span>(<span class="ruby-identifier">string</span>).<span class="ruby-identifier">index</span>(<span class="ruby-identifier">string</span>(<span class="ruby-identifier">test</span>)) <span class="ruby-operator">==</span> <span class="ruby-value">0</span>
<span class="ruby-keyword">end</span></pre>
          </div>



        <div class="method-description">


          <p>Fixed by Mike Stok</p>


        </div>





      </div>


      <div id="method-c-string" class="method-detail anchor-link ">
        <div class="method-header">

            <div class="method-heading">
              <a href="#method-c-string" title="Link to this method">
                <span class="method-name">string</span>
                <span class="method-args">( object=@@context[:node] )</span>
              </a>
            </div>

        </div>


          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>
          <div class="method-source-code" id="string-source">
            <pre class="ruby" data-language="ruby"><span class="ruby-comment"># File lib/rexml/functions.rb, line 138</span>
<span class="ruby-keyword">def</span> <span class="ruby-constant">Functions</span><span class="ruby-operator">::</span><span class="ruby-identifier ruby-title">string</span>( <span class="ruby-identifier">object</span>=<span class="ruby-identifier">@@context</span>[<span class="ruby-value">:node</span>] )
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">object</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:node_type</span>)
    <span class="ruby-keyword">case</span> <span class="ruby-identifier">object</span>.<span class="ruby-identifier">node_type</span>
    <span class="ruby-keyword">when</span> <span class="ruby-value">:attribute</span>
      <span class="ruby-identifier">object</span>.<span class="ruby-identifier">value</span>
    <span class="ruby-keyword">when</span> <span class="ruby-value">:element</span>
      <span class="ruby-identifier">string_value</span>(<span class="ruby-identifier">object</span>)
    <span class="ruby-keyword">when</span> <span class="ruby-value">:document</span>
      <span class="ruby-identifier">string_value</span>(<span class="ruby-identifier">object</span>.<span class="ruby-identifier">root</span>)
    <span class="ruby-keyword">when</span> <span class="ruby-value">:processing_instruction</span>
      <span class="ruby-identifier">object</span>.<span class="ruby-identifier">content</span>
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">object</span>.<span class="ruby-identifier">to_s</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-keyword">case</span> <span class="ruby-identifier">object</span>
    <span class="ruby-keyword">when</span> <span class="ruby-constant">Array</span>
      <span class="ruby-identifier">string</span>(<span class="ruby-identifier">object</span>[<span class="ruby-value">0</span>])
    <span class="ruby-keyword">when</span> <span class="ruby-constant">Float</span>
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">object</span>.<span class="ruby-identifier">nan?</span>
        <span class="ruby-string">&quot;NaN&quot;</span>
      <span class="ruby-keyword">else</span>
        <span class="ruby-identifier">integer</span> = <span class="ruby-identifier">object</span>.<span class="ruby-identifier">to_i</span>
        <span class="ruby-keyword">if</span> <span class="ruby-identifier">object</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">integer</span>
          <span class="ruby-string">&quot;%d&quot;</span> <span class="ruby-operator">%</span> <span class="ruby-identifier">integer</span>
        <span class="ruby-keyword">else</span>
          <span class="ruby-identifier">object</span>.<span class="ruby-identifier">to_s</span>
        <span class="ruby-keyword">end</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">object</span>.<span class="ruby-identifier">to_s</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>



        <div class="method-description">


          <p>A node-set is converted to a string by returning the string-value of the node in the node-set that is first in document order. If the node-set is empty, an empty string is returned.</p>

<p>A number is converted to a string as follows</p>

<p>NaN is converted to the string NaN</p>

<p>positive zero is converted to the string 0</p>

<p>negative zero is converted to the string 0</p>

<p>positive infinity is converted to the string Infinity</p>

<p>negative infinity is converted to the string -Infinity</p>

<p>if the number is an integer, the number is represented in decimal form as a Number with no decimal point and no leading zeros, preceded by a minus sign (-) if the number is negative</p>

<p>otherwise, the number is represented in decimal form as a Number including a decimal point with at least one digit before the decimal point and at least one digit after the decimal point, preceded by a minus sign (-) if the number is negative; there must be no leading zeros before the decimal point apart possibly from the one required digit immediately before the decimal point; beyond the one required digit after the decimal point there must be as many, but only as many, more digits as are needed to uniquely distinguish the number from all other IEEE 754 numeric values.</p>

<p>The boolean false value is converted to the string false. The boolean true value is converted to the string true.</p>

<p>An object of a type other than the four basic types is converted to a string in a way that is dependent on that type.</p>


        </div>





      </div>


      <div id="method-c-string_length" class="method-detail anchor-link ">
        <div class="method-header">

            <div class="method-heading">
              <a href="#method-c-string_length" title="Link to this method">
                <span class="method-name">string_length</span>
                <span class="method-args">( string )</span>
              </a>
            </div>

        </div>


          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>
          <div class="method-source-code" id="string_length-source">
            <pre class="ruby" data-language="ruby"><span class="ruby-comment"># File lib/rexml/functions.rb, line 261</span>
<span class="ruby-keyword">def</span> <span class="ruby-constant">Functions</span><span class="ruby-operator">::</span><span class="ruby-identifier ruby-title">string_length</span>( <span class="ruby-identifier">string</span> )
  <span class="ruby-identifier">string</span>(<span class="ruby-identifier">string</span>).<span class="ruby-identifier">length</span>
<span class="ruby-keyword">end</span></pre>
          </div>



        <div class="method-description">


          <p>UNTESTED</p>


        </div>





      </div>


      <div id="method-c-string_value" class="method-detail anchor-link ">
        <div class="method-header">

            <div class="method-heading">
              <a href="#method-c-string_value" title="Link to this method">
                <span class="method-name">string_value</span>
                <span class="method-args">( o )</span>
              </a>
            </div>

        </div>


          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>
          <div class="method-source-code" id="string_value-source">
            <pre class="ruby" data-language="ruby"><span class="ruby-comment"># File lib/rexml/functions.rb, line 178</span>
<span class="ruby-keyword">def</span> <span class="ruby-constant">Functions</span><span class="ruby-operator">::</span><span class="ruby-identifier ruby-title">string_value</span>( <span class="ruby-identifier">o</span> )
  <span class="ruby-identifier">rv</span> = <span class="ruby-string">&quot;&quot;</span>
  <span class="ruby-identifier">o</span>.<span class="ruby-identifier">children</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">e</span><span class="ruby-operator">|</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">e</span>.<span class="ruby-identifier">node_type</span> <span class="ruby-operator">==</span> <span class="ruby-value">:text</span>
      <span class="ruby-identifier">rv</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">e</span>.<span class="ruby-identifier">to_s</span>
    <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">e</span>.<span class="ruby-identifier">node_type</span> <span class="ruby-operator">==</span> <span class="ruby-value">:element</span>
      <span class="ruby-identifier">rv</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">string_value</span>( <span class="ruby-identifier">e</span> )
    <span class="ruby-keyword">end</span>
  }
  <span class="ruby-identifier">rv</span>
<span class="ruby-keyword">end</span></pre>
          </div>



        <div class="method-description">


          <p>A node-set is converted to a string by returning the concatenation of the string-value of each of the children of the node in the node-set that is first in document order. If the node-set is empty, an empty string is returned.</p>


        </div>





      </div>


      <div id="method-c-substring" class="method-detail anchor-link ">
        <div class="method-header">

            <div class="method-heading">
              <a href="#method-c-substring" title="Link to this method">
                <span class="method-name">substring</span>
                <span class="method-args">( string, start, length=nil )</span>
              </a>
            </div>

        </div>


          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>
          <div class="method-source-code" id="substring-source">
            <pre class="ruby" data-language="ruby"><span class="ruby-comment"># File lib/rexml/functions.rb, line 228</span>
<span class="ruby-keyword">def</span> <span class="ruby-constant">Functions</span><span class="ruby-operator">::</span><span class="ruby-identifier ruby-title">substring</span>( <span class="ruby-identifier">string</span>, <span class="ruby-identifier">start</span>, <span class="ruby-identifier">length</span>=<span class="ruby-keyword">nil</span> )
  <span class="ruby-identifier">ruby_string</span> = <span class="ruby-identifier">string</span>(<span class="ruby-identifier">string</span>)
  <span class="ruby-identifier">ruby_length</span> = <span class="ruby-keyword">if</span> <span class="ruby-identifier">length</span>.<span class="ruby-identifier">nil?</span>
                  <span class="ruby-identifier">ruby_string</span>.<span class="ruby-identifier">length</span>.<span class="ruby-identifier">to_f</span>
                <span class="ruby-keyword">else</span>
                  <span class="ruby-identifier">number</span>(<span class="ruby-identifier">length</span>)
                <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">ruby_start</span> = <span class="ruby-identifier">number</span>(<span class="ruby-identifier">start</span>)

  <span class="ruby-comment"># Handle the special cases</span>
  <span class="ruby-keyword">return</span> <span class="ruby-string">&#39;&#39;</span> <span class="ruby-keyword">if</span> (
    <span class="ruby-identifier">ruby_length</span>.<span class="ruby-identifier">nan?</span> <span class="ruby-keyword">or</span>
    <span class="ruby-identifier">ruby_start</span>.<span class="ruby-identifier">nan?</span> <span class="ruby-keyword">or</span>
    <span class="ruby-identifier">ruby_start</span>.<span class="ruby-identifier">infinite?</span>
  )

  <span class="ruby-identifier">infinite_length</span> = <span class="ruby-identifier">ruby_length</span>.<span class="ruby-identifier">infinite?</span> <span class="ruby-operator">==</span> <span class="ruby-value">1</span>
  <span class="ruby-identifier">ruby_length</span> = <span class="ruby-identifier">ruby_string</span>.<span class="ruby-identifier">length</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">infinite_length</span>

  <span class="ruby-comment"># Now, get the bounds.  The XPath bounds are 1..length; the ruby bounds</span>
  <span class="ruby-comment"># are 0..length.  Therefore, we have to offset the bounds by one.</span>
  <span class="ruby-identifier">ruby_start</span> = <span class="ruby-identifier">round</span>(<span class="ruby-identifier">ruby_start</span>) <span class="ruby-operator">-</span> <span class="ruby-value">1</span>
  <span class="ruby-identifier">ruby_length</span> = <span class="ruby-identifier">round</span>(<span class="ruby-identifier">ruby_length</span>)

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">ruby_start</span> <span class="ruby-operator">&lt;</span> <span class="ruby-value">0</span>
   <span class="ruby-identifier">ruby_length</span> <span class="ruby-operator">+=</span> <span class="ruby-identifier">ruby_start</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">infinite_length</span>
   <span class="ruby-identifier">ruby_start</span> = <span class="ruby-value">0</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">return</span> <span class="ruby-string">&#39;&#39;</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">ruby_length</span> <span class="ruby-operator">&lt;=</span> <span class="ruby-value">0</span>
  <span class="ruby-identifier">ruby_string</span>[<span class="ruby-identifier">ruby_start</span>,<span class="ruby-identifier">ruby_length</span>]
<span class="ruby-keyword">end</span></pre>
          </div>



        <div class="method-description">


          <p>Take equal portions of Mike Stok and Sean Russell; mix vigorously, and pour into a tall, chilled glass.  Serves 10,000.</p>


        </div>





      </div>


      <div id="method-c-substring_after" class="method-detail anchor-link ">
        <div class="method-header">

            <div class="method-heading">
              <a href="#method-c-substring_after" title="Link to this method">
                <span class="method-name">substring_after</span>
                <span class="method-args">( string, test )</span>
              </a>
            </div>

        </div>


          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>
          <div class="method-source-code" id="substring_after-source">
            <pre class="ruby" data-language="ruby"><span class="ruby-comment"># File lib/rexml/functions.rb, line 220</span>
<span class="ruby-keyword">def</span> <span class="ruby-constant">Functions</span><span class="ruby-operator">::</span><span class="ruby-identifier ruby-title">substring_after</span>( <span class="ruby-identifier">string</span>, <span class="ruby-identifier">test</span> )
  <span class="ruby-identifier">ruby_string</span> = <span class="ruby-identifier">string</span>(<span class="ruby-identifier">string</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-node">$1</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">ruby_string</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp">/#{test}(.*)/</span>
  <span class="ruby-string">&quot;&quot;</span>
<span class="ruby-keyword">end</span></pre>
          </div>



        <div class="method-description">


          <p>Kouhei fixed this too</p>


        </div>





      </div>


      <div id="method-c-substring_before" class="method-detail anchor-link ">
        <div class="method-header">

            <div class="method-heading">
              <a href="#method-c-substring_before" title="Link to this method">
                <span class="method-name">substring_before</span>
                <span class="method-args">( string, test )</span>
              </a>
            </div>

        </div>


          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>
          <div class="method-source-code" id="substring_before-source">
            <pre class="ruby" data-language="ruby"><span class="ruby-comment"># File lib/rexml/functions.rb, line 209</span>
<span class="ruby-keyword">def</span> <span class="ruby-constant">Functions</span><span class="ruby-operator">::</span><span class="ruby-identifier ruby-title">substring_before</span>( <span class="ruby-identifier">string</span>, <span class="ruby-identifier">test</span> )
  <span class="ruby-identifier">ruby_string</span> = <span class="ruby-identifier">string</span>(<span class="ruby-identifier">string</span>)
  <span class="ruby-identifier">ruby_index</span> = <span class="ruby-identifier">ruby_string</span>.<span class="ruby-identifier">index</span>(<span class="ruby-identifier">string</span>(<span class="ruby-identifier">test</span>))
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">ruby_index</span>.<span class="ruby-identifier">nil?</span>
    <span class="ruby-string">&quot;&quot;</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">ruby_string</span>[ <span class="ruby-value">0</span><span class="ruby-operator">...</span><span class="ruby-identifier">ruby_index</span> ]
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>



        <div class="method-description">


          <p>Kouhei fixed this</p>


        </div>





      </div>


      <div id="method-c-sum" class="method-detail anchor-link ">
        <div class="method-header">

            <div class="method-heading">
              <a href="#method-c-sum" title="Link to this method">
                <span class="method-name">sum</span>
                <span class="method-args">( nodes )</span>
              </a>
            </div>

        </div>


          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>
          <div class="method-source-code" id="sum-source">
            <pre class="ruby" data-language="ruby"><span class="ruby-comment"># File lib/rexml/functions.rb, line 408</span>
<span class="ruby-keyword">def</span> <span class="ruby-constant">Functions</span><span class="ruby-operator">::</span><span class="ruby-identifier ruby-title">sum</span>( <span class="ruby-identifier">nodes</span> )
  <span class="ruby-identifier">nodes</span> = [<span class="ruby-identifier">nodes</span>] <span class="ruby-keyword">unless</span> <span class="ruby-identifier">nodes</span>.<span class="ruby-identifier">kind_of?</span> <span class="ruby-constant">Array</span>
  <span class="ruby-identifier">nodes</span>.<span class="ruby-identifier">inject</span>(<span class="ruby-value">0</span>) { <span class="ruby-operator">|</span><span class="ruby-identifier">r</span>,<span class="ruby-identifier">n</span><span class="ruby-operator">|</span> <span class="ruby-identifier">r</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">number</span>(<span class="ruby-identifier">string</span>(<span class="ruby-identifier">n</span>)) }
<span class="ruby-keyword">end</span></pre>
          </div>



        <div class="method-description">


          


        </div>





      </div>


      <div id="method-c-text" class="method-detail anchor-link ">
        <div class="method-header">

            <div class="method-heading">
              <a href="#method-c-text" title="Link to this method">
                <span class="method-name">text</span>
                <span class="method-args">( )</span>
              </a>
            </div>

        </div>


          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>
          <div class="method-source-code" id="text-source">
            <pre class="ruby" data-language="ruby"><span class="ruby-comment"># File lib/rexml/functions.rb, line 40</span>
<span class="ruby-keyword">def</span> <span class="ruby-constant">Functions</span><span class="ruby-operator">::</span><span class="ruby-identifier ruby-title">text</span>( )
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">@@context</span>[<span class="ruby-value">:node</span>].<span class="ruby-identifier">node_type</span> <span class="ruby-operator">==</span> <span class="ruby-value">:element</span>
    <span class="ruby-identifier">@@context</span>[<span class="ruby-value">:node</span>].<span class="ruby-identifier">find_all</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">n</span><span class="ruby-operator">|</span> <span class="ruby-identifier">n</span>.<span class="ruby-identifier">node_type</span> <span class="ruby-operator">==</span> <span class="ruby-value">:text</span>}.<span class="ruby-identifier">collect</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">n</span><span class="ruby-operator">|</span> <span class="ruby-identifier">n</span>.<span class="ruby-identifier">value</span>}
  <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">@@context</span>[<span class="ruby-value">:node</span>].<span class="ruby-identifier">node_type</span> <span class="ruby-operator">==</span> <span class="ruby-value">:text</span>
    <span class="ruby-identifier">@@context</span>[<span class="ruby-value">:node</span>].<span class="ruby-identifier">value</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-keyword">false</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>



        <div class="method-description">


          


        </div>





      </div>


      <div id="method-c-translate" class="method-detail anchor-link ">
        <div class="method-header">

            <div class="method-heading">
              <a href="#method-c-translate" title="Link to this method">
                <span class="method-name">translate</span>
                <span class="method-args">( string, tr1, tr2 )</span>
              </a>
            </div>

        </div>


          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>
          <div class="method-source-code" id="translate-source">
            <pre class="ruby" data-language="ruby"><span class="ruby-comment"># File lib/rexml/functions.rb, line 275</span>
<span class="ruby-keyword">def</span> <span class="ruby-constant">Functions</span><span class="ruby-operator">::</span><span class="ruby-identifier ruby-title">translate</span>( <span class="ruby-identifier">string</span>, <span class="ruby-identifier">tr1</span>, <span class="ruby-identifier">tr2</span> )
  <span class="ruby-identifier">from</span> = <span class="ruby-identifier">string</span>(<span class="ruby-identifier">tr1</span>)
  <span class="ruby-identifier">to</span> = <span class="ruby-identifier">string</span>(<span class="ruby-identifier">tr2</span>)

  <span class="ruby-comment"># the map is our translation table.</span>
  <span class="ruby-comment">#</span>
  <span class="ruby-comment"># if a character occurs more than once in the</span>
  <span class="ruby-comment"># from string then we ignore the second &amp;</span>
  <span class="ruby-comment"># subsequent mappings</span>
  <span class="ruby-comment">#</span>
  <span class="ruby-comment"># if a character maps to nil then we delete it</span>
  <span class="ruby-comment"># in the output.  This happens if the from</span>
  <span class="ruby-comment"># string is longer than the to string</span>
  <span class="ruby-comment">#</span>
  <span class="ruby-comment"># there&#39;s nothing about - or ^ being special in</span>
  <span class="ruby-comment"># http://www.w3.org/TR/xpath#function-translate</span>
  <span class="ruby-comment"># so we don&#39;t build ranges or negated classes</span>

  <span class="ruby-identifier">map</span> = <span class="ruby-constant">Hash</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-value">0</span>.<span class="ruby-identifier">upto</span>(<span class="ruby-identifier">from</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">-</span> <span class="ruby-value">1</span>) { <span class="ruby-operator">|</span><span class="ruby-identifier">pos</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">from_char</span> = <span class="ruby-identifier">from</span>[<span class="ruby-identifier">pos</span>]
    <span class="ruby-keyword">unless</span> <span class="ruby-identifier">map</span>.<span class="ruby-identifier">has_key?</span> <span class="ruby-identifier">from_char</span>
      <span class="ruby-identifier">map</span>[<span class="ruby-identifier">from_char</span>] =
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">pos</span> <span class="ruby-operator">&lt;</span> <span class="ruby-identifier">to</span>.<span class="ruby-identifier">length</span>
        <span class="ruby-identifier">to</span>[<span class="ruby-identifier">pos</span>]
      <span class="ruby-keyword">else</span>
        <span class="ruby-keyword">nil</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
  }

  <span class="ruby-keyword">if</span> <span class="ruby-string">&#39;&#39;</span>.<span class="ruby-identifier">respond_to?</span> <span class="ruby-value">:chars</span>
    <span class="ruby-identifier">string</span>(<span class="ruby-identifier">string</span>).<span class="ruby-identifier">chars</span>.<span class="ruby-identifier">collect</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">c</span><span class="ruby-operator">|</span>
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">map</span>.<span class="ruby-identifier">has_key?</span> <span class="ruby-identifier">c</span> <span class="ruby-keyword">then</span> <span class="ruby-identifier">map</span>[<span class="ruby-identifier">c</span>] <span class="ruby-keyword">else</span> <span class="ruby-identifier">c</span> <span class="ruby-keyword">end</span>
    }.<span class="ruby-identifier">compact</span>.<span class="ruby-identifier">join</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">string</span>(<span class="ruby-identifier">string</span>).<span class="ruby-identifier">unpack</span>(<span class="ruby-string">&#39;U*&#39;</span>).<span class="ruby-identifier">collect</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">c</span><span class="ruby-operator">|</span>
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">map</span>.<span class="ruby-identifier">has_key?</span> <span class="ruby-identifier">c</span> <span class="ruby-keyword">then</span> <span class="ruby-identifier">map</span>[<span class="ruby-identifier">c</span>] <span class="ruby-keyword">else</span> <span class="ruby-identifier">c</span> <span class="ruby-keyword">end</span>
    }.<span class="ruby-identifier">compact</span>.<span class="ruby-identifier">pack</span>(<span class="ruby-string">&#39;U*&#39;</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>



        <div class="method-description">


          <p>This is entirely Mike Stok‚Äôs beast</p>


        </div>





      </div>


      <div id="method-c-true" class="method-detail anchor-link ">
        <div class="method-header">

            <div class="method-heading">
              <a href="#method-c-true" title="Link to this method">
                <span class="method-name">true</span>
                <span class="method-args">( )</span>
              </a>
            </div>

        </div>


          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>
          <div class="method-source-code" id="true-source">
            <pre class="ruby" data-language="ruby"><span class="ruby-comment"># File lib/rexml/functions.rb, line 342</span>
<span class="ruby-keyword">def</span> <span class="ruby-constant">Functions</span><span class="ruby-operator">::</span><span class="ruby-keyword">true</span>( )
  <span class="ruby-keyword">true</span>
<span class="ruby-keyword">end</span></pre>
          </div>



        <div class="method-description">


          <p>UNTESTED</p>


        </div>





      </div>


      <div id="method-c-variables" class="method-detail anchor-link ">
        <div class="method-header">

            <div class="method-heading">
              <a href="#method-c-variables" title="Link to this method">
                <span class="method-name">variables</span>
                <span class="method-args">()</span>
              </a>
            </div>

        </div>


          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>
          <div class="method-source-code" id="variables-source">
            <pre class="ruby" data-language="ruby"><span class="ruby-comment"># File lib/rexml/functions.rb, line 36</span>
<span class="ruby-keyword">def</span> <span class="ruby-constant">Functions</span><span class="ruby-operator">::</span><span class="ruby-identifier ruby-title">variables</span> ; <span class="ruby-identifier">@@variables</span> ; <span class="ruby-keyword">end</span></pre>
          </div>



        <div class="method-description">


          


        </div>





      </div>


      <div id="method-c-variables-3D" class="method-detail anchor-link ">
        <div class="method-header">

            <div class="method-heading">
              <a href="#method-c-variables-3D" title="Link to this method">
                <span class="method-name">variables=</span>
                <span class="method-args">(x)</span>
              </a>
            </div>

        </div>


          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>
          <div class="method-source-code" id="variables-3D-source">
            <pre class="ruby" data-language="ruby"><span class="ruby-comment"># File lib/rexml/functions.rb, line 34</span>
<span class="ruby-keyword">def</span> <span class="ruby-constant">Functions</span><span class="ruby-operator">::</span><span class="ruby-identifier ruby-title">variables=</span>(<span class="ruby-identifier">x</span>) ; <span class="ruby-identifier">@@variables</span>=<span class="ruby-identifier">x</span> ; <span class="ruby-keyword">end</span></pre>
          </div>



        <div class="method-description">


          


        </div>





      </div>


    </section>

  </section>

</main>

<aside class="table-of-contents" role="complementary" aria-label="Table of Contents">
  <div class="toc-sticky">
    <h3 class="toc-heading">On This Page</h3>
    <nav class="toc-nav" id="toc-nav" aria-label="Page sections">
      <!-- Generated by JavaScript based on page headings -->
    </nav>
  </div>
</aside>


<footer class="site-footer">
  

  <div class="footer-bottom">
    <p>
      Generated by <a href="https://ruby.github.io/rdoc/">RDoc 7.0.1</a>
      using the Aliki theme by <a href="http://st0012.dev">Stan Lo</a>
    </p>
  </div>
</footer>

</body>

